# drone-plugin-debug

debugging plugin to test how things work.

## env

env vars from

### CI

```
HARNESS_PIPELINE_ID=inputs
KUBERNETES_SERVICE_PORT=443
KUBERNETES_PORT=tcp://10.43.0.1:443
DRONE_STAGE_OS=Linux
CI_BUILD_STARTED=1719258279
HOSTNAME=harnessci-sadfdsf-mrppc7v3
CI_BUILD_NUMBER=1
HARNESS_BUILD_ID=1
HARNESS_ACCOUNT_ID=wlgELJ0TTre5aZhzpt8gVA
SHLVL=2
HOME=/root
DRONE_STAGE_TYPE=KUBERNETES_DIRECT
HARNESS_STAGE_ID=sadfdsf
DRONE_STEP_NUMBER=1
HARNESS_WORKSPACE=/harness
HARNESS_STO_SERVICE_TOKEN=**************
DRONE_BUILD_STATUS=SUCCESS
HARNESS_OUTPUT_SECRET_FILE=/addon/tmp/Plugin_1-output-secrets.env
CI_BUILD_CREATED=1719258279
HARNESS_LE_DELEGATE_LOG_URL=https://app.harness.io/gratis/log-service/
DRONE_STAGE_NAME=sadfdsf
DRONE_STAGE_STATUS=SUCCESS
HARNESS_PROJECT_ID=development
HARNESS_EXECUTION_ID=w1XlrMmLQPSDXZ-BB8E-Vw
CI_BUILD_FINISHED=1719258279
PLUGIN_PIPELINE=inputs
DRONE_STAGE_KIND=pipeline
KUBERNETES_PORT_443_TCP_ADDR=10.43.0.1
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
HARNESS_LE_DELEGATE_TI_URL=
DRONE=true
DRONE_BUILD_STARTED=1719258279
DRONE_BUILD_NUMBER=1
KUBERNETES_PORT_443_TCP_PORT=443
KUBERNETES_PORT_443_TCP_PROTO=tcp
DRONE_WORKSPACE=/harness
HARNESS_ORG_ID=default
DRONE_STAGE_STARTED=1719258279
```

### Custom

```

HARNESS_PIPELINE_ID=inputs
KUBERNETES_SERVICE_PORT=443
KUBERNETES_PORT=tcp://10.43.0.1:443
HOSTNAME=harnesscd-asf-lmv1szx5
HARNESS_BUILD_ID=2
HARNESS_ACCOUNT_ID=wlgELJ0TTre5aZhzpt8gVA
SHLVL=2
HOME=/root
HARNESS_STAGE_ID=cAv20FI0SJC3KDup-IQ_Cw
HARNESS_WORKSPACE=/harness
DRONE_BUILD_STATUS=SUCCESS
HARNESS_OUTPUT_SECRET_FILE=/addon/tmp/asf_Plugin_1-output-secrets.env
HARNESS_LE_DELEGATE_LOG_URL=https://app.harness.io/gratis/log-service/
DRONE_STAGE_STATUS=SUCCESS
HARNESS_PROJECT_ID=development
HARNESS_EXECUTION_ID=7RQeuyeDQ1K4t9VXphFavQ
KUBERNETES_PORT_443_TCP_ADDR=10.43.0.1
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
HARNESS_LE_DELEGATE_TI_URL=
KUBERNETES_PORT_443_TCP_PORT=443
KUBERNETES_PORT_443_TCP_PROTO=tcp
HARNESS_ORG_ID=default
HARNESS_LOG_PREFIX=accountId:wlgELJ0TTre5aZhzpt8gVA/orgId:default/projectId:development/pipelineId:inputs/runSequence:2/level0:pipeline/level1:stages/level2:saf/level3:spec/level4:execution/level5:steps/level6:asf/level7:steps/level8:Initialize
DRONE_OUTPUT=/addon/tmp/asf_Plugin_1-output.env
DRONE_STAGE_MACHINE=harnesscd-asf-lmv1szx5
HARNESS_IMAGE_SECRET=**************
CI_BUILD_STATUS=SUCCESS
KUBERNETES_PORT_443_TCP=tcp://10.43.0.1:443
KUBERNETES_SERVICE_PORT_HTTPS=443
KUBERNETES_SERVICE_HOST=10.43.0.1
PWD=/harness
HARNESS_SECRETS_LIST=HARNESS_IMAGE_SECRET
```

### IAC

```
DRONE_BRANCH=master
HARNESS_PIPELINE_ID=iacm
DRONE_NETRC_MACHINE=github.com
DRONE_SYSTEM_HOST=app.harness.io
KUBERNETES_SERVICE_PORT=443
DRONE_GIT_SSH_URL=git@github.com:**************/test.git
KUBERNETES_PORT=tcp://10.43.0.1:443
CI_BUILD_STARTED=1720474773
DRONE_TARGET_BRANCH=master
DRONE_REPO_LINK=https://github.com/**************/test
HOSTNAME=harnessci-tfu-q6bjkzsl
HARNESS_BUILD_ID=43
CI_BUILD_NUMBER=43
DRONE_STAGE_OS=Linux
DRONE_GIT_HTTP_URL=https://github.com/**************/test.git
HARNESS_ACCOUNT_ID=wlgELJ0TTre5aZhzpt8gVA
CI_BUILD_LINK=https://app.harness.io/ng/#/account/wlgELJ0TTre5aZhzpt8gVA/ci/orgs/default/projects/iacm/pipelines/iacm/executions/oTEegGqVRqiculg_ZT5ybQ/pipeline?stage=WQMLGmhtRpy-hHnq9MYLhg&amp;stageExecId=ve-MurtMRjaFKDLl01nDOA
SHLVL=2
HOME=/harness
DRONE_COMMIT_BRANCH=master
DRONE_REPO_PRIVATE=true
DRONE_REPO_SCM=Github
DRONE_STAGE_TYPE=KUBERNETES_DIRECT
HARNESS_STAGE_ID=tfu
DRONE_SYSTEM_PROTO=https
DRONE_NETRC_PASSWORD=**************
HARNESS_STO_SERVICE_TOKEN=**************
HARNESS_WORKSPACE=/harness
DRONE_STEP_NUMBER=2
HARNESS_USERNAME_API=**************
DRONE_BUILD_STATUS=SUCCESS
DRONE_REPO_VISIBILITY=private
HARNESS_LE_DELEGATE_LOG_URL=https://app.harness.io/gratis/log-service/
CI_BUILD_CREATED=1720474773
CI_COMMIT_SHA=bf83292b6cf72abbedd7b79088a783fe241ab012
CI_COMMIT_AUTHOR_EMAIL=user@harness.io
CI_COMMIT_REF=refs/heads/master
DRONE_SOURCE_BRANCH=master
DRONE_STAGE_STATUS=SUCCESS
DRONE_STAGE_NAME=tfu
DRONE_COMMIT_MESSAGE=Archived feature flag
HARNESS_PROJECT_ID=iacm
DRONE_REPO_BRANCH=master
CI_BUILD_FINISHED=1720474773
DRONE_SYSTEM_HOSTNAME=app.harness.io
HARNESS_EXECUTION_ID=oTEegGqVRqiculg_ZT5ybQ
DRONE_REMOTE_URL=https://github.com/**************/test.git
CI_REPO=test
PLUGIN_PIPELINE=iacm
CI_COMMIT_AUTHOR_NAME=Harness_user
KUBERNETES_PORT_443_TCP_ADDR=10.43.0.1
DRONE_BUILD_TRIGGER=Harness_user
DRONE_STAGE_KIND=pipeline
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
HARNESS_LE_DELEGATE_TI_URL=
DRONE=true
DRONE_BUILD_STARTED=1720474773
DRONE_BUILD_NUMBER=43
KUBERNETES_PORT_443_TCP_PORT=443
KUBERNETES_PORT_443_TCP_PROTO=tcp
DRONE_WORKSPACE=/harness
DRONE_BUILD_LINK=https://app.harness.io/ng/#/account/wlgELJ0TTre5aZhzpt8gVA/ci/orgs/default/projects/iacm/pipelines/iacm/executions/oTEegGqVRqiculg_ZT5ybQ/pipeline?stage=WQMLGmhtRpy-hHnq9MYLhg&amp;stageExecId=ve-MurtMRjaFKDLl01nDOA
HARNESS_ORG_ID=default
CI_REPO_LINK=https://github.com/**************/test
DRONE_STAGE_STARTED=1720474773
CI_COMMIT_BRANCH=master
HARNESS_LOG_PREFIX=accountId:wlgELJ0TTre5aZhzpt8gVA/orgId:default/projectId:iacm/pipelineId:iacm/runSequence:43/level0:pipeline/level1:stages/level2:tfu
DRONE_COMMIT=bf83292b6cf72abbedd7b79088a783fe241ab012
CI_REPO_REMOTE=https://github.com/**************/test
DRONE_OUTPUT=/addon/tmp/debug-output.env
HARNESS_PASSWORD_API=**************
DRONE_BUILD_EVENT=push
DRONE_NETRC_USERNAME=**************
DRONE_BUILD_CREATED=1720474773
DRONE_COMMIT_SHA=bf83292b6cf72abbedd7b79088a783fe241ab012
DRONE_REPO_NAME=test
DRONE_COMMIT_AUTHOR_EMAIL=user@harness.io
DRONE_STAGE_MACHINE=harnessci-tfu-q6bjkzsl
HARNESS_IMAGE_SECRET=**************
KUBERNETES_SERVICE_PORT_HTTPS=443
CI_BUILD_STATUS=SUCCESS
DRONE_COMMIT_REF=refs/heads/master
KUBERNETES_PORT_443_TCP=tcp://10.43.0.1:443
KUBERNETES_SERVICE_HOST=10.43.0.1
HARNESS_USER_ID=4JCQs46YTxKawHSWVW6nLA
PWD=/harness
DRONE_COMMIT_LINK=https://github.com/**************/test/commit/bf83292b6cf72abbedd7b79088a783fe241ab012
DRONE_BUILD_FINISHED=1720474773
HARNESS_SECRETS_LIST=HARNESS_STO_SERVICE_TOKEN,HARNESS_STO_SERVICE_ENDPOINT,DRONE_NETRC_PASSWORD,HARNESS_IMAGE_SECRET,HARNESS_USERNAME_API,HARNESS_PASSWORD_API,DRONE_NETRC_USERNAME
DRONE_STEP_NAME=debug
CI_COMMIT_MESSAGE=Archived feature flag
DRONE_COMMIT_AUTHOR_NAME=Harness_user
DRONE_STAGE_FINISHED=1720474773
HARNESS_STO_SERVICE_ENDPOINT=**************
CI_REMOTE_URL=https://github.com/**************/test
```
